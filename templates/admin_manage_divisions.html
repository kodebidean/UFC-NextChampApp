{% extends "base.html" %}

{% block title %}Manage Divisions{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-8">Manage Divisions</h1>

<div class="mb-8">
    <h2 class="text-2xl font-semibold mb-4">Add New Division</h2>
    <form method="POST" class="space-y-4">
        <div>
            <label for="name" class="block mb-1">Division Name</label>
            <input type="text" id="name" name="name" required class="w-full px-3 py-2 border rounded-md">
        </div>
        <div>
            <label for="champion" class="block mb-1">Champion</label>
            <input type="text" id="champion" name="champion" required class="w-full px-3 py-2 border rounded-md">
        </div>
        <div>
            <label for="top_contenders" class="block mb-1">Top Contenders (comma-separated)</label>
            <input type="text" id="top_contenders" name="top_contenders" required class="w-full px-3 py-2 border rounded-md">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Add Division</button>
    </form>
</div>

<div>
    <h2 class="text-2xl font-semibold mb-4">Existing Divisions</h2>
    <table class="w-full">
        <thead>
            <tr>
                <th class="text-left">Name</th>
                <th class="text-left">Champion</th>
                <th class="text-left">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for division in divisions %}
            <tr>
                <td>{{ division.name }}</td>
                <td>{{ division.champion }}</td>
                <td>
                    <a href="{{ url_for('admin_edit_division', division_id=division.id) }}" class="text-blue-600">Edit</a>
                    <a href="{{ url_for('admin_delete_division', division_id=division.id) }}" class="text-red-600 ml-2" onclick="return confirm('Are you sure you want to delete this division?')">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
